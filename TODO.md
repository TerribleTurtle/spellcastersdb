# SpellcastersDB.com Task List

- [x] **Phase 0: Architecture & Deployment** <!-- id: 0 -->
  - [x] Initialize Next.js Project (TypeScript, Tailwind, customized `npx` command) <!-- id: 1 -->
  - [x] Commit Initial Codebase to GitHub <!-- id: 2 -->
  - [x] Verify Vercel Deployment & Domain Connection (`spellcastersdb.com`) <!-- id: 3 -->
- [x] **Phase 1: The Foundation (Data Layer)** <!-- id: 4 -->
  - [x] Define TypeScript Interfaces (The Contract) based on API Docs <!-- id: 5 -->
  - [x] Create Data Fetching Service (`lib/api.ts`) with Stale-While-Revalidate <!-- id: 6 -->
  - [x] Implement Static Site Generation (SSG) for Unit Pages <!-- id: 7 -->
  - [x] Implement Static Site Generation (SSG) for Spellcaster Pages
    - [x] Create Dynamic Route `src/app/heroes/[id]/page.tsx`
    - [x] Implement `generateStaticParams` for build-time generation
    - [x] Implement `generateMetadata` for dynamic spellcaster SEO
  - [x] Implement Static Site Generation (SSG) for Consumable Pages
    - [x] Create Dynamic Route `src/app/consumables/[id]/page.tsx`
    - [x] Implement `generateStaticParams` for build-time generation
    - [x] Implement `generateMetadata` for dynamic consumable SEO
- [x] **Phase 1.5: Design Identity & Infrastructure**
  - [x] **Design System**: Implement "Arcane Modern" theme with Tailwind v4 (CSS Variables, @theme)
  - [x] **Analytics**: Install Vercel Analytics & Speed Insights
  - [x] **Security**: Configure strict Security Headers (CSP, X-Frame-Options) in `next.config.ts`
  - [x] **SEO**: Generate dynamic `sitemap.xml` for all 50+ pages (`src/app/sitemap.ts`)
  - [x] **Refactor**: Update Debug Page and generated pages to use new Design Tokens
  - [x] **Config**: Externalize API URL to `NEXT_PUBLIC_API_URL` & add `.env.local` support
  - [x] **Quality**: Add `type-check` script and fix duplicate type definitions
- [x] **Phase 2: The Archive (UI Core)** <!-- id: 8 -->
  - [x] Build Global Layout (Nav, Footer with Socials) <!-- id: 9 -->
  - [x] Create specialized `Card` components (Unit, Spell, Building) <!-- id: 10 -->
  - [x] Implement Search & Filter Logic (Fuse.js) <!-- id: 11 -->
- [x] **Phase 3: The Forge (Deck Builder)** <!-- id: 12 -->
  - [x] implement `DeckContext` (useDeckBuilder hook) <!-- id: 13 -->
  - [x] Build Drag & Drop Tray Logic <!-- id: 14 -->
  - [x] Implement "The Invariants" validation logic <!-- id: 15 -->
- [x] **Phase 4: Social & Sharing** <!-- id: 16 -->
  - [x] Implement `lz-string` URL compression/decompression <!-- id: 17 -->
  - [x] Add "Share Link" and Conflict Resolution Modal <!-- id: 18 -->
- [x] Optimize URL size by removing JSON overhead (Pipe-delimit with ASCII Unit Separator) <!-- id: 18-opt -->
- [ ] **Phase 5: Visual Sharing & OG Images** <!-- id: 19 -->
  - [ ] Implement `@vercel/og` for dynamic deck previews <!-- id: og-gen -->
  - [ ] Design OG template: Clean, game-accurate view of Spellcaster + Units (Names/Ranks) <!-- id: og-design -->
- [ ] **Phase 6: Optimization & Automation ("The Deep Dive")** <!-- id: 20 -->
  - [ ] Configure `next-sitemap` for SEO <!-- id: 21 -->
  - [ ] Implement metadata generation strategies <!-- id: 22 -->
  - [ ] Create Github Action for "Daily Revalidation" <!-- id: 23 -->

## Maintenance & UX Refinement

- [x] Implement persistent dismissal for Beta Banner (localStorage)
- [x] Fix navbar overlap issue when Beta Banner is dismissed (moved spacing to body)
- [x] Change Beta Banner to relative positioning (scrolls with page)
- [x] Fix oversized Spellcaster image in Deck Builder controls
- [x] Refine Deck Builder Card Inspector UI (Padding + Close button)
- [x] Add visual feedback for valid drop zones when dragging cards
- [x] Implement dynamic viewport-relative sizing for deck tray (mobile/desktop scaling)
- [x] Implement holistic responsive design across all deck builder components
- [x] Audit and fix deck builder mobile scaling issues (oversized units)
- [x] Deduplicate spellcaster drop zone IDs
- [x] Fix Forge tab passives visibility (removed restrictive max-height)
- [x] Implement GLOBAL custom scrollbar styles (replaces native Windows Chrome bars everywhere)
- [x] Fix inspector rank badge overlap with close button
- [x] Relocate spellcaster passives from Forge to deck tray (desktop: hover tooltips, mobile: uses Inspector)
- [x] Implement Status Dashboard (Roadmap page) with JSON-based roadmap management
- [x] Populate roadmap with community feedback (12 new items) and cleanup stale placeholder items
- [x] Add Magic School Alignment request to roadmap and cleanup schools
- [x] Refine Deck validation logic: Require 1x Rank I/II Creature and prevent all-spell decks
- [x] Document Rank I/II Creature requirement in guide and design docs (not just any unit)
- [x] Enhance validation logic documentation with comprehensive rule comments and clearer error messages
- [x] Redesign roadmap page: add 5 item types (bug/feature/enhancement/ux/data), compact layout with inline icons
- [x] Improve roadmap density: flatten type subsections into unified grid, tighten card spacing
- [x] Add explicit type labels to roadmap cards (e.g., "Bug", "Feature") for better accessibility
- [x] Update Deck Builder Health Icon from Shield to Heart (UX Polish)
- [x] Implement draggable deck slots with Swap and Move logic
- [x] Implement "Drag to Remove" interaction for deck tray
- [x] Enable click-to-inspect for units in the deck tray
- [x] Fix double "TITAN" label in Deck Builder slot
- [x] Stabilize Deck Tray layout: absolute position spellcaster passives to prevent slot shift
- [x] Implement "Swap on Add": dragging a card already in the deck to another slot swaps it instead of clearing the old slot
- [x] Implement **Roadmap Concepts**: Added 'concept' type for massive requests with visual disclaimers
- [x] Improve **Roadmap Sorting**: Sort items by type (Bugs first, Concepts last) to manage user expectations
- [x] Update **Roadmap Metadata**: Added devNote support and implemented disclaimer rendering
- [x] Pluralize filter categories (Spellcasters, Creatures) in Unit Browser
- [x] Implement Rank-first (then Alphabetical) sorting in Unit Browser for better grouping
- [ ] **Phase 7: User Experience Polish** <!-- id: 24 -->
  - [x] Fix drag and drop logic: Dragging unit to spellcaster should cancel drop instead of removing unit <!-- id: 25 -->
  - [x] Remove Deck Tray 'X' buttons (User Request) <!-- id: 26 -->
